import{C as e,S as t,i as n,s as r,e as l,t as s,c as o,a,g as c,d as i,b as f,f as $,P as p,Q as d,j as u,m,o as g,x as h,u as x,v as y,k as b,n as w,r as v,w as P,U as E,V as M,W as S,X as B,Y as k,I as N,M as I,N as D,Z as G,l as A,_ as U,$ as C,a0 as F,a1 as O,O as R,a2 as V,a3 as L,a4 as z,a5 as j,a6 as X,a7 as _,a8 as T,a9 as W,h as Z,L as q,aa as H}from"../chunks/vendor-b252a13e.js";const J=e({drawPageBackground:!0,transparent:!0,midiExpandRepeats:!0,exportRPNs:!0,compress:!0,ofSegments:!1});function Q(e){let t,n;return{c(){t=l("p"),n=s("No options."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"No options."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}function Y(e){return[]}class K extends t{constructor(e){super(),n(this,e,Y,Q,r,{})}}function ee(e,t,n){const r=e.slice();return r[10]=t[n],r}function te(e){let t,n,r;function l(t){e[5](t)}let s={value:e[10]};return void 0!==e[0]&&(s.group=e[0]),t=new k({props:s}),N.push((()=>I(t,"group",l))),t.$on("change",e[2]),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){g(t,e,n),r=!0},p(e,r){const l={};!n&&1&r&&(n=!0,l.group=e[0],D((()=>n=!1))),t.$set(l)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){x(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function ne(e){let t,n,r=e[10]+"";return{c(){t=l("span"),n=s(r),this.h()},l(e){t=o(e,"SPAN",{slot:!0});var l=a(t);n=c(l,r),l.forEach(i),this.h()},h(){f(t,"slot","label")},m(e,r){$(e,t,r),p(t,n)},p:d,d(e){e&&i(t)}}}function re(e){let t,n;return t=new S({props:{$$slots:{label:[ne],default:[te]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};8193&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function le(e){let t,n,r,d,u=e[1],m=[];for(let l=0;l<u.length;l+=1)m[l]=re(ee(e,u,l));const g=e=>x(m[e],1,1,(()=>{m[e]=null}));return{c(){for(let e=0;e<m.length;e+=1)m[e].c();t=b(),n=l("p"),r=s("Each page of the selected scores will be exported as a separate PNG file."),this.h()},l(e){for(let t=0;t<m.length;t+=1)m[t].l(e);t=w(e),n=o(e,"P",{class:!0});var l=a(n);r=c(l,"Each page of the selected scores will be exported as a separate PNG file."),l.forEach(i),this.h()},h(){f(n,"class","mdc-typography--body2")},m(e,l){for(let t=0;t<m.length;t+=1)m[t].m(e,l);$(e,t,l),$(e,n,l),p(n,r),d=!0},p(e,[n]){if(7&n){let r;for(u=e[1],r=0;r<u.length;r+=1){const l=ee(e,u,r);m[r]?(m[r].p(l,n),h(m[r],1)):(m[r]=re(l),m[r].c(),h(m[r],1),m[r].m(t.parentNode,t))}for(v(),r=u.length;r<m.length;r+=1)g(r);P()}},i(e){if(!d){for(let e=0;e<u.length;e+=1)h(m[e]);d=!0}},o(e){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)x(m[t]);d=!1},d(e){E(m,e),e&&i(t),e&&i(n)}}}function se(e,t,n){let r;M(e,J,(e=>n(6,r=e)));let{npages:l=1}=t,{minUpdate:s=1}=t,o=["Draw page background","Transparent background"],a=o.map((e=>e));return e.$$set=e=>{"npages"in e&&n(3,l=e.npages),"minUpdate"in e&&n(4,s=e.minUpdate)},[a,o,function(){B(J,r.drawPageBackground=a.includes("Draw page background"),r),B(J,r.transparent=a.includes("Transparent background"),r)},l,s,function(e){a=e,n(0,a)}]}class oe extends t{constructor(e){super(),n(this,e,se,le,r,{npages:3,minUpdate:4})}}function ae(e,t,n){const r=e.slice();return r[10]=t[n],r}function ce(e){let t,n,r;function l(t){e[5](t)}let s={value:e[10]};return void 0!==e[0]&&(s.group=e[0]),t=new k({props:s}),N.push((()=>I(t,"group",l))),t.$on("change",e[2]),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){g(t,e,n),r=!0},p(e,r){const l={};!n&&1&r&&(n=!0,l.group=e[0],D((()=>n=!1))),t.$set(l)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){x(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function ie(e){let t,n,r=e[10]+"";return{c(){t=l("span"),n=s(r),this.h()},l(e){t=o(e,"SPAN",{slot:!0});var l=a(t);n=c(l,r),l.forEach(i),this.h()},h(){f(t,"slot","label")},m(e,r){$(e,t,r),p(t,n)},p:d,d(e){e&&i(t)}}}function fe(e){let t,n;return t=new S({props:{$$slots:{label:[ie],default:[ce]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};8193&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function $e(e){let t,n,r,d,u=e[1],m=[];for(let l=0;l<u.length;l+=1)m[l]=fe(ae(e,u,l));const g=e=>x(m[e],1,1,(()=>{m[e]=null}));return{c(){for(let e=0;e<m.length;e+=1)m[e].c();t=b(),n=l("p"),r=s("Each page of the selected scores will be exported as a separate SVG file."),this.h()},l(e){for(let t=0;t<m.length;t+=1)m[t].l(e);t=w(e),n=o(e,"P",{class:!0});var l=a(n);r=c(l,"Each page of the selected scores will be exported as a separate SVG file."),l.forEach(i),this.h()},h(){f(n,"class","mdc-typography--body2")},m(e,l){for(let t=0;t<m.length;t+=1)m[t].m(e,l);$(e,t,l),$(e,n,l),p(n,r),d=!0},p(e,[n]){if(7&n){let r;for(u=e[1],r=0;r<u.length;r+=1){const l=ae(e,u,r);m[r]?(m[r].p(l,n),h(m[r],1)):(m[r]=fe(l),m[r].c(),h(m[r],1),m[r].m(t.parentNode,t))}for(v(),r=u.length;r<m.length;r+=1)g(r);P()}},i(e){if(!d){for(let e=0;e<u.length;e+=1)h(m[e]);d=!0}},o(e){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)x(m[t]);d=!1},d(e){E(m,e),e&&i(t),e&&i(n)}}}function pe(e,t,n){let r;M(e,J,(e=>n(6,r=e)));let{npages:l=1}=t,{minUpdate:s=1}=t,o=["Draw page background"],a=o.map((e=>e));return e.$$set=e=>{"npages"in e&&n(3,l=e.npages),"minUpdate"in e&&n(4,s=e.minUpdate)},[a,o,function(){B(J,r.drawPageBackground=a.includes("Draw page background"),r)},l,s,function(e){a=e,n(0,a)}]}class de extends t{constructor(e){super(),n(this,e,pe,$e,r,{npages:3,minUpdate:4})}}function ue(e){let t,n;return{c(){t=l("p"),n=s("Each selected score will be exported as a separate audio file."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"Each selected score will be exported as a separate audio file."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}class me extends t{constructor(e){super(),n(this,e,null,ue,r,{})}}function ge(e){let t,n;return{c(){t=l("p"),n=s("Each selected score will be exported as a separate audio file."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"Each selected score will be exported as a separate audio file."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}class he extends t{constructor(e){super(),n(this,e,null,ge,r,{})}}function xe(e){let t,n;return{c(){t=l("p"),n=s("Each selected score will be exported as a separate audio file."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"Each selected score will be exported as a separate audio file."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}class ye extends t{constructor(e){super(),n(this,e,null,xe,r,{})}}function be(e){let t,n;return{c(){t=l("p"),n=s("Each selected score will be exported as a separate audio file."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"Each selected score will be exported as a separate audio file."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}class we extends t{constructor(e){super(),n(this,e,null,be,r,{})}}function ve(e,t,n){const r=e.slice();return r[5]=t[n],r}function Pe(e){let t,n,r;function l(t){e[3](t)}let s={value:e[5]};return void 0!==e[0]&&(s.group=e[0]),t=new k({props:s}),N.push((()=>I(t,"group",l))),t.$on("change",e[2]),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){g(t,e,n),r=!0},p(e,r){const l={};!n&&1&r&&(n=!0,l.group=e[0],D((()=>n=!1))),t.$set(l)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){x(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function Ee(e){let t,n,r=e[5]+"";return{c(){t=l("span"),n=s(r),this.h()},l(e){t=o(e,"SPAN",{slot:!0});var l=a(t);n=c(l,r),l.forEach(i),this.h()},h(){f(t,"slot","label")},m(e,r){$(e,t,r),p(t,n)},p:d,d(e){e&&i(t)}}}function Me(e){let t,n;return t=new S({props:{$$slots:{label:[Ee],default:[Pe]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Se(e){let t,n,r,d,u=e[1],m=[];for(let l=0;l<u.length;l+=1)m[l]=Me(ve(e,u,l));const g=e=>x(m[e],1,1,(()=>{m[e]=null}));return{c(){for(let e=0;e<m.length;e+=1)m[e].c();t=b(),n=l("p"),r=s("Each selected score will be exported as a separate MIDI file."),this.h()},l(e){for(let t=0;t<m.length;t+=1)m[t].l(e);t=w(e),n=o(e,"P",{class:!0});var l=a(n);r=c(l,"Each selected score will be exported as a separate MIDI file."),l.forEach(i),this.h()},h(){f(n,"class","mdc-typography--body2")},m(e,l){for(let t=0;t<m.length;t+=1)m[t].m(e,l);$(e,t,l),$(e,n,l),p(n,r),d=!0},p(e,[n]){if(7&n){let r;for(u=e[1],r=0;r<u.length;r+=1){const l=ve(e,u,r);m[r]?(m[r].p(l,n),h(m[r],1)):(m[r]=Me(l),m[r].c(),h(m[r],1),m[r].m(t.parentNode,t))}for(v(),r=u.length;r<m.length;r+=1)g(r);P()}},i(e){if(!d){for(let e=0;e<u.length;e+=1)h(m[e]);d=!0}},o(e){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)x(m[t]);d=!1},d(e){E(m,e),e&&i(t),e&&i(n)}}}function Be(e,t,n){let r;M(e,J,(e=>n(4,r=e)));let l=["Expand repeats","Export RPNs"],s=l.map((e=>e));return[s,l,function(){B(J,r.midiExpandRepeats=s.includes("Expand repeats"),r),B(J,r.exportRPNs=s.includes("Export RPNs"),r)},function(e){s=e,n(0,s)}]}class ke extends t{constructor(e){super(),n(this,e,Be,Se,r,{})}}function Ne(e,t,n){const r=e.slice();return r[5]=t[n],r}function Ie(e){let t,n=e[5]+"";return{c(){t=s(n)},l(e){t=c(e,n)},m(e,n){$(e,t,n)},p:d,d(e){e&&i(t)}}}function De(e){let t,n;return t=new U({props:{value:e[5],$$slots:{default:[Ie]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Ge(e){let t,n,r=e[1],l=[];for(let o=0;o<r.length;o+=1)l[o]=De(Ne(e,r,o));const s=e=>x(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=A()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=A()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);$(e,t,r),n=!0},p(e,n){if(2&n){let o;for(r=e[1],o=0;o<r.length;o+=1){const s=Ne(e,r,o);l[o]?(l[o].p(s,n),h(l[o],1)):(l[o]=De(s),l[o].c(),h(l[o],1),l[o].m(t.parentNode,t))}for(v(),o=r.length;o<l.length;o+=1)s(o);P()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)h(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)x(l[t]);n=!1},d(e){E(l,e),e&&i(t)}}}function Ae(e){let t,n,r;function l(t){e[3](t)}let s={variant:"outlined",label:"MusicXML file type",required:!0,$$slots:{default:[Ge]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new G({props:s}),N.push((()=>I(t,"value",l))),t.$on("click",e[2]),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){g(t,e,n),r=!0},p(e,[r]){const l={};256&r&&(l.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,l.value=e[0],D((()=>n=!1))),t.$set(l)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){x(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function Ue(e,t,n){let r;M(e,J,(e=>n(4,r=e)));let l="Compressed (*.mxl)";return[l,["Compressed (*.mxl)","Uncompressed (*.musicxml)","Uncompressed (outdated) (*.xml)"],function(){B(J,r.compress="Compressed (*.mxl)"===l,r)},function(e){l=e,n(0,l)}]}class Ce extends t{constructor(e){super(),n(this,e,Ue,Ae,r,{})}}function Fe(e){let t,n;return{c(){t=l("p"),n=s("Each selected score will be exported as a separate MuseScore file."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"Each selected score will be exported as a separate MuseScore file."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}class Oe extends t{constructor(e){super(),n(this,e,null,Fe,r,{})}}function Re(e){let t,n;return{c(){t=l("p"),n=s("Each selected score will be exported as a separate uncompressed MuseScore file."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"Each selected score will be exported as a separate uncompressed MuseScore file."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}class Ve extends t{constructor(e){super(),n(this,e,null,Re,r,{})}}function Le(e,t,n){const r=e.slice();return r[5]=t[n],r}function ze(e){let t,n=e[5]+"";return{c(){t=s(n)},l(e){t=c(e,n)},m(e,n){$(e,t,n)},p:d,d(e){e&&i(t)}}}function je(e){let t,n;return t=new U({props:{value:e[5],$$slots:{default:[ze]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Xe(e){let t,n,r=e[1],l=[];for(let o=0;o<r.length;o+=1)l[o]=je(Le(e,r,o));const s=e=>x(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=A()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=A()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);$(e,t,r),n=!0},p(e,n){if(2&n){let o;for(r=e[1],o=0;o<r.length;o+=1){const s=Le(e,r,o);l[o]?(l[o].p(s,n),h(l[o],1)):(l[o]=je(s),l[o].c(),h(l[o],1),l[o].m(t.parentNode,t))}for(v(),o=r.length;o<l.length;o+=1)s(o);P()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)h(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)x(l[t]);n=!1},d(e){E(l,e),e&&i(t)}}}function _e(e){let t,n,r;function l(t){e[3](t)}let s={variant:"outlined",label:"Positions of",required:!0,$$slots:{default:[Xe]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new G({props:s}),N.push((()=>I(t,"value",l))),t.$on("click",e[2]),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){g(t,e,n),r=!0},p(e,[r]){const l={};256&r&&(l.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,l.value=e[0],D((()=>n=!1))),t.$set(l)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){x(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function Te(e,t,n){let r;M(e,J,(e=>n(4,r=e)));let l="Measures";return[l,["Measures","Segments"],function(){B(J,r.ofSegments="Segments"===l,r)},function(e){l=e,n(0,l)}]}class We extends t{constructor(e){super(),n(this,e,Te,_e,r,{})}}function Ze(e){let t,n;return{c(){t=l("p"),n=s("No options."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"No options."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},p:d,i:d,o:d,d(e){e&&i(t)}}}class qe extends t{constructor(e){super(),n(this,e,null,Ze,r,{})}}function He(e,t,n){const r=e.slice();return r[38]=t[n],r}function Je(e,t,n){const r=e.slice();return r[38]=t[n],r}function Qe(e,t,n){const r=e.slice();return r[43]=t[n],r}function Ye(e){let t;return{c(){t=s(e[3])},l(n){t=c(n,e[3])},m(e,n){$(e,t,n)},p(e,n){8&n[0]&&Z(t,e[3])},d(e){e&&i(t)}}}function Ke(e){let t;return{c(){t=s("close")},l(e){t=c(e,"close")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function et(e){let t,n;return t=new q({props:{class:"material-icons-outlined",title:"Dismiss",$$slots:{default:[Ke]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};32768&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function tt(e){let t,n,r,l;return t=new V({props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}}),r=new T({props:{$$slots:{default:[et]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment),n=b(),u(r.$$.fragment)},l(e){m(t.$$.fragment,e),n=w(e),m(r.$$.fragment,e)},m(e,s){g(t,e,s),$(e,n,s),g(r,e,s),l=!0},p(e,n){const l={};8&n[0]|32768&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);const s={};32768&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){l||(h(t.$$.fragment,e),h(r.$$.fragment,e),l=!0)},o(e){x(t.$$.fragment,e),x(r.$$.fragment,e),l=!1},d(e){y(t,e),e&&i(n),y(r,e)}}}function nt(e){let t;return{c(){t=s("file_upload")},l(e){t=c(e,"file_upload")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function rt(e){let t;return{c(){t=s("Select Files")},l(e){t=c(e,"Select Files")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function lt(e){let t,n,r,l;return t=new R({props:{class:"material-icons-outlined",$$slots:{default:[nt]},$$scope:{ctx:e}}}),r=new V({props:{$$slots:{default:[rt]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment),n=b(),u(r.$$.fragment)},l(e){m(t.$$.fragment,e),n=w(e),m(r.$$.fragment,e)},m(e,s){g(t,e,s),$(e,n,s),g(r,e,s),l=!0},p(e,n){const l={};32768&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);const s={};32768&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){l||(h(t.$$.fragment,e),h(r.$$.fragment,e),l=!0)},o(e){x(t.$$.fragment,e),x(r.$$.fragment,e),l=!1},d(e){y(t,e),e&&i(n),y(r,e)}}}function st(e){let t,n=e[43]+"";return{c(){t=s(n)},l(e){t=c(e,n)},m(e,n){$(e,t,n)},p:d,d(e){e&&i(t)}}}function ot(e){let t,n;return t=new U({props:{value:e[43],$$slots:{default:[st]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};32768&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function at(e){let t,n,r=e[13],l=[];for(let o=0;o<r.length;o+=1)l[o]=ot(Qe(e,r,o));const s=e=>x(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=A()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=A()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);$(e,t,r),n=!0},p(e,n){if(8192&n[0]){let o;for(r=e[13],o=0;o<r.length;o+=1){const s=Qe(e,r,o);l[o]?(l[o].p(s,n),h(l[o],1)):(l[o]=ot(s),l[o].c(),h(l[o],1),l[o].m(t.parentNode,t))}for(v(),o=r.length;o<l.length;o+=1)s(o);P()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)h(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)x(l[t]);n=!1},d(e){E(l,e),e&&i(t)}}}function ct(e){let t,n,r;function l(t){e[20](t)}let s={style:"margin: 8px 0px 0px 0px;",variant:"raised",$$slots:{default:[$t]},$$scope:{ctx:e}};return void 0!==e[7]&&(s.disabled=e[7]),t=new F({props:s}),N.push((()=>I(t,"disabled",l))),t.$on("click",e[16]),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){g(t,e,n),r=!0},p(e,r){const l={};32768&r[1]&&(l.$$scope={dirty:r,ctx:e}),!n&&128&r[0]&&(n=!0,l.disabled=e[7],D((()=>n=!1))),t.$set(l)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){x(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function it(e){let t;return{c(){t=s("swap_horiz")},l(e){t=c(e,"swap_horiz")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function ft(e){let t;return{c(){t=s("Convert")},l(e){t=c(e,"Convert")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function $t(e){let t,n,r,l;return t=new R({props:{class:"material-icons-outlined",$$slots:{default:[it]},$$scope:{ctx:e}}}),r=new V({props:{$$slots:{default:[ft]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment),n=b(),u(r.$$.fragment)},l(e){m(t.$$.fragment,e),n=w(e),m(r.$$.fragment,e)},m(e,s){g(t,e,s),$(e,n,s),g(r,e,s),l=!0},p(e,n){const l={};32768&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);const s={};32768&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){l||(h(t.$$.fragment,e),h(r.$$.fragment,e),l=!0)},o(e){x(t.$$.fragment,e),x(r.$$.fragment,e),l=!1},d(e){y(t,e),e&&i(n),y(r,e)}}}function pt(e){let t,n,r,l;const s=[ut,dt],o=[];function a(e,t){return e[12]?1:0}return t=a(e),n=o[t]=s[t](e),{c(){n.c(),r=A()},l(e){n.l(e),r=A()},m(e,n){o[t].m(e,n),$(e,r,n),l=!0},p(e,l){let c=t;t=a(e),t===c?o[t].p(e,l):(v(),x(o[c],1,1,(()=>{o[c]=null})),P(),n=o[t],n?n.p(e,l):(n=o[t]=s[t](e),n.c()),h(n,1),n.m(r.parentNode,r))},i(e){l||(h(n),l=!0)},o(e){x(n),l=!1},d(e){o[t].d(e),e&&i(r)}}}function dt(e){let t,n;return t=new L({props:{indeterminate:!0}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p:d,i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function ut(e){let t,n;return t=new L({props:{progress:e[4],buffer:0}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.progress=e[4]),t.$set(r)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function mt(e){let t,n,r;function l(t){e[21](t)}let s={class:"button-shaped-round",style:"margin: 8px 0px 0px 0px;",color:"secondary",variant:"raised",href:window.URL.createObjectURL(e[1]),download:e[0].join(", ")+".zip",$$slots:{default:[xt]},$$scope:{ctx:e}};return void 0!==e[7]&&(s.disabled=e[7]),t=new F({props:s}),N.push((()=>I(t,"disabled",l))),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){g(t,e,n),r=!0},p(e,r){const l={};2&r[0]&&(l.href=window.URL.createObjectURL(e[1])),1&r[0]&&(l.download=e[0].join(", ")+".zip"),32768&r[1]&&(l.$$scope={dirty:r,ctx:e}),!n&&128&r[0]&&(n=!0,l.disabled=e[7],D((()=>n=!1))),t.$set(l)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){x(t.$$.fragment,e),r=!1},d(e){y(t,e)}}}function gt(e){let t;return{c(){t=s("file_download")},l(e){t=c(e,"file_download")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function ht(e){let t;return{c(){t=s("Download")},l(e){t=c(e,"Download")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function xt(e){let t,n,r,l;return t=new R({props:{class:"material-icons-outlined",$$slots:{default:[gt]},$$scope:{ctx:e}}}),r=new V({props:{$$slots:{default:[ht]},$$scope:{ctx:e}}}),{c(){u(t.$$.fragment),n=b(),u(r.$$.fragment)},l(e){m(t.$$.fragment,e),n=w(e),m(r.$$.fragment,e)},m(e,s){g(t,e,s),$(e,n,s),g(r,e,s),l=!0},p(e,n){const l={};32768&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);const s={};32768&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){l||(h(t.$$.fragment,e),h(r.$$.fragment,e),l=!0)},o(e){x(t.$$.fragment,e),x(r.$$.fragment,e),l=!1},d(e){y(t,e),e&&i(n),y(r,e)}}}function yt(e){let t,n;return t=new W({props:{style:"height: 28px; width: 28px; margin: 16px 0px",indeterminate:!0}}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},p:d,i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function bt(e){let t;function n(e,t){return e[11]?wt:vt}let r=n(e),l=r(e);return{c(){l.c(),t=A()},l(e){l.l(e),t=A()},m(e,n){l.m(e,n),$(e,t,n)},p(e,s){r===(r=n(e))&&l?l.p(e,s):(l.d(1),l=r(e),l&&(l.c(),l.m(t.parentNode,t)))},i:d,o:d,d(e){l.d(e),e&&i(t)}}}function wt(e){let t,n=e[2],r=[];for(let l=0;l<n.length;l+=1)r[l]=Pt(He(e,n,l));return{c(){t=l("p");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=o(e,"P",{class:!0,style:!0});var n=a(t);for(let t=0;t<r.length;t+=1)r[t].l(n);n.forEach(i),this.h()},h(){f(t,"class","mdc-typography--subtitle1"),H(t,"margin","12px 0px 16px 0px")},m(e,n){$(e,t,n);for(let l=0;l<r.length;l+=1)r[l].m(t,null)},p(e,l){if(4&l[0]){let s;for(n=e[2],s=0;s<n.length;s+=1){const o=He(e,n,s);r[s]?r[s].p(o,l):(r[s]=Pt(o),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&i(t),E(r,e)}}}function vt(e){let t,n=e[2],r=[];for(let l=0;l<n.length;l+=1)r[l]=Et(Je(e,n,l));return{c(){t=l("p");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=o(e,"P",{class:!0});var n=a(t);for(let t=0;t<r.length;t+=1)r[t].l(n);n.forEach(i),this.h()},h(){f(t,"class","mdc-typography--subtitle1")},m(e,n){$(e,t,n);for(let l=0;l<r.length;l+=1)r[l].m(t,null)},p(e,l){if(4&l[0]){let s;for(n=e[2],s=0;s<n.length;s+=1){const o=Je(e,n,s);r[s]?r[s].p(o,l):(r[s]=Et(o),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&i(t),E(r,e)}}}function Pt(e){let t,n,r=e[38]+"";return{c(){t=s(r),n=l("br")},l(e){t=c(e,r),n=o(e,"BR",{})},m(e,r){$(e,t,r),$(e,n,r)},p(e,n){4&n[0]&&r!==(r=e[38]+"")&&Z(t,r)},d(e){e&&i(t),e&&i(n)}}}function Et(e){let t,n,r=e[38]+"";return{c(){t=s(r),n=l("br")},l(e){t=c(e,r),n=o(e,"BR",{})},m(e,r){$(e,t,r),$(e,n,r)},p(e,n){4&n[0]&&r!==(r=e[38]+"")&&Z(t,r)},d(e){e&&i(t),e&&i(n)}}}function Mt(e){let t,n,r,s;return r=new z({props:{class:"fileOption",variant:"outlined",style:"flex: 1;",$$slots:{default:[zt]},$$scope:{ctx:e}}}),{c(){t=l("div"),n=l("div"),u(r.$$.fragment),this.h()},l(e){t=o(e,"DIV",{class:!0});var l=a(t);n=o(l,"DIV",{class:!0});var s=a(n);m(r.$$.fragment,s),s.forEach(i),l.forEach(i),this.h()},h(){f(n,"class","fileOptions svelte-1yt7iaa"),f(t,"class","options svelte-1yt7iaa")},m(e,l){$(e,t,l),p(t,n),g(r,n,null),s=!0},p(e,t){const n={};64&t[0]|32768&t[1]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){s||(h(r.$$.fragment,e),s=!0)},o(e){x(r.$$.fragment,e),s=!1},d(e){e&&i(t),y(r)}}}function St(e){let t;return{c(){t=s("Export options")},l(e){t=c(e,"Export options")},m(e,n){$(e,t,n)},d(e){e&&i(t)}}}function Bt(e){let t,n;return{c(){t=l("p"),n=s("Invalid export target."),this.h()},l(e){t=o(e,"P",{class:!0});var r=a(t);n=c(r,"Invalid export target."),r.forEach(i),this.h()},h(){f(t,"class","mdc-typography--body2")},m(e,r){$(e,t,r),p(t,n)},i:d,o:d,d(e){e&&i(t)}}}function kt(e){let t,n;return t=new qe({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Nt(e){let t,n;return t=new We({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function It(e){let t,n;return t=new Ve({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Dt(e){let t,n;return t=new Oe({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Gt(e){let t,n;return t=new Ce({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function At(e){let t,n;return t=new ke({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Ut(e){let t,n;return t=new we({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Ct(e){let t,n;return t=new ye({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Ft(e){let t,n;return t=new he({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Ot(e){let t,n;return t=new me({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Rt(e){let t,n;return t=new de({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Vt(e){let t,n;return t=new oe({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function Lt(e){let t,n;return t=new K({}),{c(){u(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,r){g(t,e,r),n=!0},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function zt(e){let t,n,r,s,c,p;t=new j({props:{class:"mdc-typography--subtitle2",$$slots:{default:[St]},$$scope:{ctx:e}}});const d=[Lt,Vt,Rt,Ot,Ft,Ct,Ut,At,Gt,Dt,It,Nt,kt,Bt],E=[];function M(e,t){return"PDF"===e[6]?0:"PNG"===e[6]?1:"SVG"===e[6]?2:"MP3"===e[6]?3:"WAV"===e[6]?4:"FLAC"===e[6]?5:"OGG"===e[6]?6:"MIDI"===e[6]?7:"MusicXML"===e[6]?8:"MSCZ"===e[6]?9:"MSCX"===e[6]?10:"Positions"===e[6]?11:"Metadata"===e[6]?12:13}return s=M(e),c=E[s]=d[s](e),{c(){u(t.$$.fragment),n=b(),r=l("div"),c.c(),this.h()},l(e){m(t.$$.fragment,e),n=w(e),r=o(e,"DIV",{class:!0});var l=a(r);c.l(l),l.forEach(i),this.h()},h(){f(r,"class","optionsRoot svelte-1yt7iaa")},m(e,l){g(t,e,l),$(e,n,l),$(e,r,l),E[s].m(r,null),p=!0},p(e,n){const l={};32768&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);let o=s;s=M(e),s!==o&&(v(),x(E[o],1,1,(()=>{E[o]=null})),P(),c=E[s],c||(c=E[s]=d[s](e),c.c()),h(c,1),c.m(r,null))},i(e){p||(h(t.$$.fragment,e),h(c),p=!0)},o(e){x(t.$$.fragment,e),x(c),p=!1},d(e){y(t,e),e&&i(n),e&&i(r),E[s].d()}}}function jt(e){let t,n,r,s,c,d,E,M,S,B,k,U,O,R,V,L;function z(t){e[19](t)}t=new C({props:{$$slots:{default:[tt]},$$scope:{ctx:e}}}),e[18](t),s=new F({props:{variant:"outlined",$$slots:{default:[lt]},$$scope:{ctx:e}}}),s.$on("click",e[15]);let j={style:"margin: 8px 0px 0px 0px;",variant:"outlined",label:"Export to",required:!0,$$slots:{default:[at]},$$scope:{ctx:e}};void 0!==e[6]&&(j.value=e[6]),d=new G({props:j}),N.push((()=>I(d,"value",z))),d.$on("click",e[14]);let X=e[8]&&ct(e),_=e[11]&&pt(e),T=!e[8]&&mt(e);const W=[bt,yt],Z=[];function q(e,t){return e[10]?1:0}U=q(e),O=Z[U]=W[U](e);let H=!e[9]&&Mt(e);return{c(){u(t.$$.fragment),n=b(),r=l("div"),u(s.$$.fragment),c=b(),u(d.$$.fragment),M=b(),X&&X.c(),S=b(),_&&_.c(),B=b(),T&&T.c(),k=b(),O.c(),R=b(),H&&H.c(),V=A(),this.h()},l(e){m(t.$$.fragment,e),n=w(e),r=o(e,"DIV",{class:!0});var l=a(r);m(s.$$.fragment,l),c=w(l),m(d.$$.fragment,l),M=w(l),X&&X.l(l),S=w(l),_&&_.l(l),B=w(l),T&&T.l(l),k=w(l),O.l(l),l.forEach(i),R=w(e),H&&H.l(e),V=A(),this.h()},h(){f(r,"class","fileHandling svelte-1yt7iaa")},m(e,l){g(t,e,l),$(e,n,l),$(e,r,l),g(s,r,null),p(r,c),g(d,r,null),p(r,M),X&&X.m(r,null),p(r,S),_&&_.m(r,null),p(r,B),T&&T.m(r,null),p(r,k),Z[U].m(r,null),$(e,R,l),H&&H.m(e,l),$(e,V,l),L=!0},p(e,n){const l={};8&n[0]|32768&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);const o={};32768&n[1]&&(o.$$scope={dirty:n,ctx:e}),s.$set(o);const a={};32768&n[1]&&(a.$$scope={dirty:n,ctx:e}),!E&&64&n[0]&&(E=!0,a.value=e[6],D((()=>E=!1))),d.$set(a),e[8]?X?(X.p(e,n),256&n[0]&&h(X,1)):(X=ct(e),X.c(),h(X,1),X.m(r,S)):X&&(v(),x(X,1,1,(()=>{X=null})),P()),e[11]?_?(_.p(e,n),2048&n[0]&&h(_,1)):(_=pt(e),_.c(),h(_,1),_.m(r,B)):_&&(v(),x(_,1,1,(()=>{_=null})),P()),e[8]?T&&(v(),x(T,1,1,(()=>{T=null})),P()):T?(T.p(e,n),256&n[0]&&h(T,1)):(T=mt(e),T.c(),h(T,1),T.m(r,k));let c=U;U=q(e),U===c?Z[U].p(e,n):(v(),x(Z[c],1,1,(()=>{Z[c]=null})),P(),O=Z[U],O?O.p(e,n):(O=Z[U]=W[U](e),O.c()),h(O,1),O.m(r,null)),e[9]?H&&(v(),x(H,1,1,(()=>{H=null})),P()):H?(H.p(e,n),512&n[0]&&h(H,1)):(H=Mt(e),H.c(),h(H,1),H.m(V.parentNode,V))},i(e){L||(h(t.$$.fragment,e),h(s.$$.fragment,e),h(d.$$.fragment,e),h(X),h(_),h(T),h(O),h(H),L=!0)},o(e){x(t.$$.fragment,e),x(s.$$.fragment,e),x(d.$$.fragment,e),x(X),x(_),x(T),x(O),x(H),L=!1},d(l){e[18](null),y(t,l),l&&i(n),l&&i(r),y(s),y(d),X&&X.d(),_&&_.d(),T&&T.d(),Z[U].d(),l&&i(R),H&&H.d(l),l&&i(V)}}}function Xt(e,t,n){let r;M(e,J,(e=>n(31,r=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(l,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};let s,o=[],a=[],c=new Blob,i=new O,f=[c],$=[],p=["No file metadata."],d=["No file loaded."],u="Unknown error.",m=0,g="PDF",h=["PDF","PNG","SVG","MP3","WAV","FLAC","OGG","MIDI","MusicXML","MSCZ","MSCX","Positions","Metadata"],x=[{id:-1,parts:[{harmonyCount:0,hasDrumStaff:"",hasPitchedStaff:"",hasTabStaff:"",instrumentId:"",instrumentName:"",isVisible:"",lyricCount:0,name:"",program:0}],title:"Full Score"}],y=[x[x.findIndex((e=>-1===e.id))].id],b=!0,w=!0,v=!0,P=!1,E=!1,S=!1;function B(){0!==f[0].size&&""!=g&&0!==y.length&&h.includes(g)&&!P?(n(7,b=!1),n(9,v=!1)):n(7,b=!0),n(8,w=!0)}return e.$$.update=()=>{131072&e.$$.dirty[0]&&B()},[a,c,d,u,m,s,g,b,w,v,P,E,S,h,B,function(){return l(this,void 0,void 0,(function*(){o=[],n(0,a=[]),p=[],n(2,d=[]);let e=[];if(n(7,b=!0),f=yield X([{mimeTypes:["application/x-musescore","application/x-musescore+xml","application/vnd.recordare.musicxml","application/vnd.recordare.musicxml+xml","audio/x-gtp","audio/x-ptb"],extensions:[".mscz",".mscx",".mxl",".musicxml",".xml",".gtp",".gp3",".gp4",".gp5",".gpx",".gp",".ptb"],description:"All Supported Files",id:"uploads",multiple:!0},{mimeTypes:["application/x-musescore","application/x-musescore+xml"],extensions:[".mscz",".mscx"],description:"MuseScore Files"},{mimeTypes:["application/vnd.recordare.musicxml","application/vnd.recordare.musicxml+xml"],extensions:[".mxl",".musicxml",".xml"],description:"MusicXML Files"},{mimeTypes:["audio/x-gtp"],extensions:[".gtp",".gp3",".gp4",".gp5",".gpx",".gp"],description:"Guitar Pro Files"},{mimeTypes:["audio/x-ptb"],extensions:[".ptb"],description:"Power Tab Editor Files (experimental)"}]).catch((()=>(n(7,b=!1),$))),$!==f){f.length,$=f;for(let[t,r]of f.entries()){let c=r.name.substring(r.name.lastIndexOf(".")+1);if("mid"===c&&(c="midi"),!["gp","gp3","gp4","gp5","gpx","gtp","kar","midi","mscx","mscz","musicxml","mxl","ptb","xml"].includes(c))return n(3,u="Invalid file extension."),void s.open();d.push(r.name),_.ready.then((()=>l(this,void 0,void 0,(function*(){n(10,P=!0),e.push({scoreBlob:yield _.load(c,new Uint8Array(yield r.arrayBuffer())).then((e=>l(this,void 0,void 0,(function*(){return yield e.setSoundFont(new Uint8Array(yield(yield fetch("https://cdn.jsdelivr.net/gh/musescore/MuseScore@2.1/share/sound/FluidR3Mono_GM.sf3")).arrayBuffer())),p.push(JSON.stringify(yield e.metadata())),a.push(yield e.title()),e})))),scoreIndex:t}),e.length===f.length&&(p.sort(((t,n)=>e[p.indexOf(t)].scoreIndex-e[p.indexOf(n)].scoreIndex)),a.sort(((t,n)=>e[a.indexOf(t)].scoreIndex-e[a.indexOf(n)].scoreIndex)),o=e.sort(((e,t)=>e.scoreIndex-t.scoreIndex)).map((e=>e.scoreBlob)),n(10,P=!1),""!==g?(n(7,b=!1),n(9,v=!1)):n(7,b=!0))}))))}}}))},function(){return l(this,void 0,void 0,(function*(){let e=".",t=o.length,l=[];if(n(7,b=!0),n(8,w=!0),n(11,E=!0),n(12,S=!1),n(4,m=0),i=new O,"PNG"===g||"SVG"==g){for(let[s,a]of o.entries())if(l[s]=yield a.npages(),s===t-1){let s=l.reduce(((e,t)=>e+t),0);for(let[a,f]of o.entries())for(let o of[...Array(l[a]).keys()]){if("PNG"===g?(n(1,c=yield new Blob([yield(yield f.savePng(o,r.drawPageBackground,r.transparent)).buffer],{type:"image/png"})),e=".png"):"SVG"===g&&(n(1,c=yield new Blob([yield f.saveSvg(o,r.drawPageBackground)],{type:"image/svg+xml"})),e=".svg"),0!=c.size){let t="-"+(o+1).toString();i.file(d[a].substring(0,d[a].lastIndexOf("."))+t+e,c),n(4,m+=1/s)}a===t-1&&o===l[a]-1&&(n(4,m=1),n(12,S=!0),n(1,c=yield i.generateAsync({type:"blob"}).then((e=>(n(8,w=!1),n(11,E=!1),e)))))}}}else for(let[a,f]of o.entries()){switch(g){case"PDF":n(1,c=yield new Blob([yield(yield f.savePdf()).buffer],{type:"application/pdf"})),e=".pdf";break;case"MP3":n(1,c=yield new Blob([yield(yield f.saveAudio("mp3")).buffer],{type:"audio/mpeg"})),e=".mp3";break;case"WAV":n(1,c=yield new Blob([yield(yield f.saveAudio("wav")).buffer],{type:"audio/vnd.wave"})),e=".wav";break;case"FLAC":n(1,c=yield new Blob([yield(yield f.saveAudio("flac")).buffer],{type:"audio/flac"})),e=".flac";break;case"OGG":n(1,c=yield new Blob([yield(yield f.saveAudio("ogg")).buffer],{type:"audio/ogg"})),e=".ogg";break;case"MIDI":n(1,c=yield new Blob([yield(yield f.saveMidi(r.midiExpandRepeats,r.exportRPNs)).buffer],{type:"audio/midi"})),e=".mid";break;case"MusicXML":r.compress?(n(1,c=yield new Blob([yield(yield f.saveMxl()).buffer],{type:"application/vnd.recordare.musicxml"})),e=".mxl"):(n(1,c=yield new Blob([yield yield f.saveXml()],{type:"application/vnd.recordare.musicxml+xml"})),e=".musicxml");break;case"MSCZ":n(1,c=yield new Blob([yield(yield f.saveMsc("mscz")).buffer],{type:"application/x-musescore"})),e=".mscz";break;case"MSCX":n(1,c=yield new Blob([yield(yield f.saveMsc("mscx")).buffer],{type:"application/x-musescore+xml"})),e=".mscx";break;case"Positions":n(1,c=yield new Blob([yield yield f.savePositions(r.ofSegments)],{type:"application/json"})),e=".json";break;case"Metadata":n(1,c=yield new Blob([yield yield f.saveMetadata()],{type:"application/json"})),e=".json";break;default:return n(1,c=new Blob),n(3,u="Invalid export target."),void s.open()}0!=c.size&&(i.file(d[a].substring(0,d[a].lastIndexOf("."))+e,c),n(4,m+=1/t)),a===t-1&&(n(4,m=1),n(12,S=!0),n(1,c=yield i.generateAsync({type:"blob"}).then((e=>(n(8,w=!1),n(11,E=!1),e)))))}}))},y,function(e){N[e?"unshift":"push"]((()=>{s=e,n(5,s)}))},function(e){g=e,n(6,g)},function(e){b=e,n(7,b)},function(e){b=e,n(7,b)}]}class _t extends t{constructor(e){super(),n(this,e,Xt,jt,r,{},null,[-1,-1])}}export{_t as default};
